<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Noor Token Presale</title>
  <link href="style.css" rel="stylesheet"/>
</head>
<body>
  <div class="container fade-in">
    <!-- Logo -->
    <img src="logo.png" alt="Noor Token Logo" class="logo"/>

    <h1>Noor Token (NOOR) Presale</h1>
    <p>Presale Price: <strong>1 NOOR = 0.002 SDA</strong></p>

    <!-- Connect Wallet Button -->
    <button onclick="connectWallet()" class="btn">ðŸ”— Connect Wallet</button>

    <div class="form">
      <label>Enter SDA amount to spend:</label>
      <input type="number" id="sdaAmount" placeholder="e.g. 100" oninput="calculateTokens()" />
      <p>You will receive: <span id="noorAmount">0</span> NOOR</p>
      <button onclick="buyTokens()" class="btn">Buy NOOR</button>
    </div>

    <hr>

    <section class="fade-in">
      <h2>About Us</h2>
      <p>
        We are a team of blockchain developers, scholars, and entrepreneurs focused on building ethical decentralized finance solutions. 
        Noor Token is our vision of a halal, transparent, and accessible digital future on the Sidra blockchain.
      </p>
    </section>

    <section class="fade-in">
      <h2>Contact</h2>
      <p>Email: <a href="mailto:team@noortoken.org">team@noortoken.org</a></p>
      <p>Twitter: <a href="https://twitter.com/NoorToken" target="_blank">@NoorToken</a></p>
      <p>Telegram: <a href="https://t.me/NoorTokenCommunity" target="_blank">t.me/NoorTokenCommunity</a></p>
    </section>
  </div>

  <script>
    const PRESALE_CONTRACT    = "0xYourPresaleContractAddress"; // replace with your presale CA
    const SDA_DECIMALS        = 18;
    const NOOR_PER_SDA        = 500;   // 1 NOOR = 0.002 SDA â†’ 1 SDA = 500 NOOR

    let userAccount;

    async function connectWallet() {
      if (window.ethereum) {
        const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
        userAccount = accounts[0];
        alert("Connected: " + userAccount);
      } else {
        alert("Please install MetaMask or another Web3 wallet.");
      }
    }

    function calculateTokens() {
      const sda = parseFloat(document.getElementById("sdaAmount").value || 0);
      document.getElementById("noorAmount").innerText = sda * NOOR_PER_SDA;
    }

    async function buyTokens() {
      const sdaValue = document.getElementById("sdaAmount").value;
      if (!window.ethereum || !userAccount) {
        alert("Please connect your wallet first.");
        return;
      }
      const sdaAmount = BigInt(sdaValue * 10 ** SDA_DECIMALS).toString();

      const txParams = {
        from: userAccount,
        to: PRESALE_CONTRACT,
        value: "0x0",
        data: "" // replace with your contractâ€™s buy() call data if needed
      };

      try {
        await window.ethereum.request({
          method: 'eth_sendTransaction',
          params: [txParams],
        });
        alert("Transaction sent!");
      } catch (err) {
        console.error(err);
        alert("Transaction failed!");
      }
    }
  </script>
</body>
</html>
